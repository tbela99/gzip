!function(){"use strict";async function t(t,n="SHA-256"){const e=(new TextEncoder).encode(t),i=await crypto.subtle.digest(n,e);return Array.from(new Uint8Array(i)).map(t=>t.toString(16).padStart(2,"0")).join("")}window.addEventListener("load",()=>{let n;if(!"{CRITICAL_MATCHED_VIEWPORTS}".some(t=>window.matchMedia("(min-width: "+t.split("x",1)[0]+"px)").matches))for(n of"{CRITICAL_DIMENSIONS}")if(window.matchMedia("(min-width: "+n.split("x",1)[0]+"px)").matches){const e=setInterval(()=>{if(document.querySelector("link[data-media]"))return;clearInterval(e);const i=performance.now();critical.extract({fonts:!0}).then(async e=>{((performance.now()-i)/1e3).toFixed(3),JSON.stringify({stats:e.stats},null,1);const a={url:"{CRITICAL_URL}",dimension:n,fonts:e.fonts,css:e.styles.join("\n")},o="{CRITICAL_HASH}";await fetch("{CRITICAL_POST_URL}",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","X-Signature":`${o}.${await t(o+JSON.stringify(a),"SHA-256")}`},body:JSON.stringify(a)})})},1e3);break}})}();