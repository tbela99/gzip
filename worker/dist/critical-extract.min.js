!function(){"use strict";async function t(t,e){const n=(new TextEncoder).encode(t),o=await crypto.subtle.digest(e,n);return Array.from(new Uint8Array(o)).map(t=>t.toString(16).padStart(2,"0")).join("")}const e=[];let n="loading"!=document.readyState;document.addEventListener("DOMContentLoaded",(function t(){for(document.removeEventListener("DOMContentLoaded",t),n=!0;e.length>0;)requestAnimationFrame(e.shift())})),function(t){if(n){for(;e.length>0;)requestAnimationFrame(e.shift());t()}else e.push(t)}(()=>{let e;if(!"{CRITICAL_MATCHED_VIEWPORTS}".some(t=>window.matchMedia("(min-width: "+t.split("x",1)[0]+"px)").matches))for(e of"{CRITICAL_DIMENSIONS}")if(window.matchMedia("(min-width: "+e.split("x",1)[0]+"px)").matches){const n=setInterval(()=>{if(document.querySelector("link[data-media]"))return;clearInterval(n);const o=performance.now();critical.extract({fonts:!0}).then(async n=>{((performance.now()-o)/1e3).toFixed(3),JSON.stringify({stats:n.stats},null,1);const i={url:"{CRITICAL_URL}",dimension:e,css:n.styles.concat(n.fonts.map(t=>{let e="@font-face {";for(const n of Object.entries(t))if("properties"==n[0])for(const t of Object.entries(n[1]))e+=`${t[0]}: ${t[1]};`;else e+=`${n[0]}: ${n[1]};`;return e+"}"})).join("\n")},r="{CRITICAL_HASH}";await fetch("{CRITICAL_POST_URL}",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","X-Signature":`${r}.${await t(r+JSON.stringify(i),'"{ALGO}"')}`},body:JSON.stringify(i)})})},1e3);break}})}();